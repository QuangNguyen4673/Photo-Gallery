(this["webpackJsonpreact-boilerplate"]=this["webpackJsonpreact-boilerplate"]||[]).push([[0],{42:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(15),i=r.n(n),s=r(7),l=r(19),o=r(13);r(46),r(45);o.a.initializeApp({apiKey:"AIzaSyDHemdGgLKdNqxYhkoI-xiLr-6vz_0kkuk",authDomain:"photo-gallery-fe65e.firebaseapp.com",projectId:"photo-gallery-fe65e",storageBucket:"photo-gallery-fe65e.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/Photo-Gallery",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDHemdGgLKdNqxYhkoI-xiLr-6vz_0kkuk",REACT_APP_FIREBASE_APP_ID:"1:884541526626:web:9c712cf3c00766ff00b73b",REACT_APP_FIREBASE_AUTH_DOMAIN:"photo-gallery-fe65e.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"884541526626",REACT_APP_FIREBASE_PROJECT_ID:"photo-gallery-fe65e",REACT_APP_FIREBASE_STORAGE_BUCKET:"photo-gallery-fe65e.appspot.com"}).REACT_APP_MESSAGING_SENDER_ID,appId:"1:884541526626:web:9c712cf3c00766ff00b73b"});var u=o.a.storage(),j=o.a.firestore(),d=o.a.firestore.FieldValue.serverTimestamp;var h=function(e){var t=Object(a.useState)(null),r=Object(s.a)(t,2),c=r[0],n=r[1];return Object(a.useEffect)((function(){return j.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id}))})),n(t)}))}),[e]),{docs:c}};var b=function(e){var t,r,a=[],c=[],n=[];return e&&(e.length%3!==0?(console.log("Kh\xf4ng chia h\u1ebft cho num"),t=e.length%3,r=(e.length-t)/3,e.forEach((function(e){var t={id:e.id,url:e.url};a.length<r?a.push(t):c.length<r?c.push(t):n.length<r?n.push(t):a.length===r?a.push(t):n.length===r&&n.push(t)}))):(console.log("Chia h\u1ebft cho num"),r=e.length/3,e.forEach((function(e){var t={id:e.id,url:e.url};a.length<r?a.push(t):c.length<r?c.push(t):n.push(t)})))),[a,c,n]},g=r(59),f=r(3);var p=function(e){var t=e.setimgUrl,r=h("images").docs,a=b(r),c=Object(s.a)(a,3),n=c[0],i=c[1],l=c[2],o=function(e){return e.map((function(e){return Object(f.jsx)(g.a.div,{className:"img-wraper",children:Object(f.jsx)(g.a.img,{src:e.url,alt:"\\#",onClick:function(){return t(e.url)}})},e.id)}))};return Object(f.jsx)(f.Fragment,{children:r&&Object(f.jsxs)("div",{className:"image-grid-container",children:[Object(f.jsx)("div",{className:"grid-one",children:o(n)}),Object(f.jsx)("div",{className:"grid-two",children:o(i)}),Object(f.jsx)("div",{className:"grid-three",children:o(l)})]})})};var O=function(e){var t=e.url,r=e.setimgUrl;return Object(f.jsx)("div",{className:"img-modal",onClick:function(e){"img-modal"===e.target.classList.value&&r("")},children:Object(f.jsx)(g.a.img,{src:t,alt:"\\#",initial:{y:-500},animate:{y:0}})})};var m=function(){return Object(f.jsxs)("div",{className:"title",children:[Object(f.jsx)("h2",{children:"Firegram"}),Object(f.jsx)("h1",{children:"Your Picture"}),Object(f.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit"})]})},v=r(23),E=r.n(v),_=r(18),x=r.n(_),S=r(22);var A=function(e){var t=Object(a.useState)(null),r=Object(s.a)(t,2),c=r[0],n=r[1],i=Object(a.useState)(null),l=Object(s.a)(i,2),o=l[0],h=l[1],b=Object(a.useState)(""),g=Object(s.a)(b,2),f=g[0],p=g[1];return Object(a.useEffect)((function(){var t=u.ref(e.name),r=j.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){return p(e)}),Object(S.a)(x.a.mark((function e(){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,c=d(),r.add({url:a,createdAt:c}),h(a);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,url:o,error:f}};var P=function(e){var t=e.file,r=e.setFile,c=A(t),n=c.progress,i=c.url;return Object(a.useEffect)((function(){i&&r(null)}),[i,r]),n?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"my-progress-bar",children:Object(f.jsx)(g.a.div,{className:"my-progress-bar-current",initial:{width:0},animate:{width:n+"%"}})})}):""};var I=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(""),i=Object(s.a)(n,2),l=i[0],o=i[1];return Object(f.jsxs)("form",{className:"img-upload",children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&["image/png","image/jpeg"].includes(t.type)?(c(t),o("")):(c(null),o("Please select an image file (png or jpg)"))}}),Object(f.jsx)("div",{className:"icon-container",children:Object(f.jsx)(E.a,{})})]}),l&&Object(f.jsx)("h5",{children:l}),r&&Object(f.jsx)(P,{file:r,setFile:c})]})};var R=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{}),Object(f.jsx)(I,{}),Object(f.jsx)(p,{setimgUrl:c}),r&&Object(f.jsx)(O,{url:r,setimgUrl:c})]})};r(41),r(42);i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.8791370e.chunk.js.map